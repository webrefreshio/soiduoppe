---
// Foundations
import Text from "@/components/fundations/elements/Text.astro";
import Button from "@/components/fundations/elements/Button.astro";
// Icons
import Check from "@/components/fundations/icons/Check.astro";
const { title, description, url, price, duration, includedServices } = {
  url: "/packages/" + Astro.props.package.slug,
  title: Astro.props.package.data.title,
  description: Astro.props.package.data.description,
  price: Astro.props.package.data.price,
  duration: Astro.props.package.data.duration,
  includedServices: Astro.props.package.data.includedServices,
};
---

<article
  class="relative flex flex-col justify-between h-full p-8 overflow-hidden shadow-2xl group gap-12 bg-base-50 rounded-3xl outline-4 outline-base-500/10"
>
  <div>
    <div class="pt-28">
      <span
        class="absolute top-2 -right-4 text-[8rem] font-display font-bold text-base-500/20 select-none leading-none z-0 transition-colors duration-500"
      >
        {price}
      </span>
      <div class="pl-4 border-l-2 border-accent-500">
        <Text
          tag="h3"
          variant="textXL"
          class="font-medium uppercase font-display text-base-900"
        >
          {title}
        </Text>
        <Text
          tag="p"
          variant="textBase"
          class="mt-2 text-base-600 text-balance"
        >
          {duration}
        </Text>
      </div>
      <Text tag="p" variant="textSM" class="mt-8 text-base-600 text-balance">
        {description}
      </Text>
    </div>

    <div class="pt-4 mt-4 border-t border-base-200">
      <Text
        tag="h3"
        variant="textBase"
        class="font-medium uppercase font-display text-base-900"
      >
        Included Services
      </Text>
      <ul class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-2">
        {
          includedServices.slice(0, 5).map((service) => (
            <li class="flex items-center text-sm gap-2 text-base-600">
              <Check size="sm" />
              <span class="font-medium capitalize text-base-600">
                {service.replace(/-/g, " ")}
              </span>
            </li>
          ))
        }
        {
          includedServices.length > 5 && (
            <li class="pl-8 text-xs italic text-base-400">
              + {includedServices.length - 5} more services
            </li>
          )
        }
      </ul>
    </div>
  </div>
  <Button
    isLink
    size="sm"
    variant="muted"
    href={url}
    class="w-fit"
    aria-label={`View package: ${title}`}
    title={`View package: ${title}`}
  >
    Read more
  </Button>
</article>
